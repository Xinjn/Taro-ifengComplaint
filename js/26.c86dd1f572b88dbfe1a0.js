(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"158":function(e,t,a){"use strict";var n=a(5),s=a(8),c=a(9),o=a(20),i=a(17),r=a(18),l=a(11),u=a(22),m=a.n(u),d=a(139),b=function(e){Object(i.a)(ErrorBoundary,e);var t=Object(r.a)(ErrorBoundary);function ErrorBoundary(){var e;Object(s.a)(this,ErrorBoundary);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return e=t.call.apply(t,[this].concat(n)),Object(l.a)(Object(o.a)(e),"state",{"hasError":!1}),e}return Object(c.a)(ErrorBoundary,[{"key":"componentDidCatch","value":function componentDidCatch(e,t){this.setState({"hasError":!0}),e.message="".concat(e.message," - componentStack: ").concat(t.componentStack),console.log("我是错误",e)}},{"key":"render","value":function render(){return this.state.hasError?"":this.props.children}}]),ErrorBoundary}(m.a.Component);t.a=function errorBoundary(e){return function(t){Object(i.a)(_class,t);var a=Object(r.a)(_class);function _class(){return Object(s.a)(this,_class),a.apply(this,arguments)}return Object(c.a)(_class,[{"key":"render","value":function render(){return Object(d.jsx)(b,{"children":Object(d.jsx)(e,Object(n.a)({},this.props))})}}]),_class}(m.a.PureComponent)}},"163":function(e,t){e.exports="data:image/png;base64,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"},"167":function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(8),s=a(9),c=a(17),o=a(18),i=a(22),r=a(140),l=(a(169),a(139)),u=function(e){Object(c.a)(NoContent,e);var t=Object(o.a)(NoContent);function NoContent(){return Object(n.a)(this,NoContent),t.apply(this,arguments)}return Object(s.a)(NoContent,[{"key":"componentWillMount","value":function componentWillMount(){}},{"key":"componentDidMount","value":function componentDidMount(){}},{"key":"componentWillUnmount","value":function componentWillUnmount(){}},{"key":"componentDidShow","value":function componentDidShow(){}},{"key":"componentDidHide","value":function componentDidHide(){}},{"key":"render","value":function render(){return Object(l.jsxs)(r.o,{"className":"nocontent","children":[Object(l.jsx)(r.o,{"className":"bg"}),Object(l.jsx)(r.o,{"children":"暂无更多"})]})}}]),NoContent}(i.Component)},"169":function(e,t,a){},"183":function(e,t,a){"use strict";var n=a(8),s=a(9),c=a(20),o=a(17),i=a(18),r=a(11),l=a(22),u=a(140),m=a(184),d=a.n(m),b=a(158),j=a(3),p=a(139),g=function(e){Object(o.a)(ButtonBox,e);var t=Object(i.a)(ButtonBox);function ButtonBox(){var e;Object(n.a)(this,ButtonBox);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s)),Object(r.a)(Object(c.a)(e),"goToNewPage",(function(e,t){console.log(e),t.preventDefault(),t.stopPropagation(),j.default.navigateTo({"url":e})})),e}return Object(s.a)(ButtonBox,[{"key":"render","value":function render(){var e=this.props,t=e.roleType,a=e.businessStatus,n=e.guid;return Object(p.jsxs)(u.o,{"className":d.a.button_contain,"children":["common"===t&&20===a&&Object(p.jsxs)(u.o,{"className":d.a.button_box,"children":[Object(p.jsx)(u.o,{"className":d.a.button,"onClick":this.goToNewPage.bind(this,"/pages/complain/addDetails/index?complaintGuid=".concat(n)),"children":"补充投诉"}),Object(p.jsx)(u.o,{"className":d.a.button,"onClick":this.goToNewPage.bind(this,"/pages/complain/resolve/index?complaintGuid=".concat(n)),"children":"确认完成"})]}),"common"===t&&10===a&&Object(p.jsx)(u.o,{"className":d.a.button_box,"children":Object(p.jsx)(u.o,{"className":d.a.button,"onClick":this.goToNewPage.bind(this,"/pages/complain/company/index?domainId=".concat(n)),"children":"修改投诉"})}),"common"===t&&13===a&&Object(p.jsxs)(u.o,{"className":d.a.button_box,"children":[Object(p.jsx)(u.o,{"className":d.a.button,"onClick":this.goToNewPage.bind(this,"/pages/complain/addDetails/index?complaintGuid=".concat(n)),"children":"补充投诉"}),Object(p.jsx)(u.o,{"className":d.a.button,"onClick":this.goToNewPage.bind(this,"/pages/complain/resolve/index?complaintGuid=".concat(n)),"children":"确认完成"})]}),"common"!==t&&20===a&&Object(p.jsxs)(u.o,{"className":d.a.button_box,"children":[Object(p.jsx)(u.o,{"className":d.a.button,"onClick":this.goToNewPage.bind(this,"/pages/subPages/replayUser/index?guid=".concat(n)),"children":"回复"}),Object(p.jsx)(u.o,{"className":d.a.button,"onClick":this.goToNewPage.bind(this,"/pages/subPages/completeComplaint/index?guid=".concat(n)),"children":"申请完成投诉"})]}),"common"!==t&&13===a&&Object(p.jsx)(u.o,{"className":d.a.button_box,"children":Object(p.jsx)(u.o,{"className":d.a.button,"onClick":this.goToNewPage.bind(this,"/pages/subPages/replayUser/index?guid=".concat(n)),"children":"回复"})})]})}}]),ButtonBox}(l.Component);t.a=Object(b.a)(g)},"184":function(e,t,a){e.exports={"button_contain":"index-module__button_contain___2gPaA","button_box":"index-module__button_box___1VUDo","button":"index-module__button___WjiRY"}},"194":function(e,t,a){e.exports={"item":"index-module__item___3yzaZ","msg_header":"index-module__msg_header___39GEO","imgbox":"index-module__imgbox___2nrqB","avatar":"index-module__avatar___3qQWN","nickname":"index-module__nickname___1kBuJ","time":"index-module__time___1Jots","msg_content":"index-module__msg_content___3xyJr","c_like":"index-module__c_like___3QgFg","complain":"index-module__complain___2B8v4","title":"index-module__title___1mT-x","c_content":"index-module__c_content___2AzUQ","c_commone":"index-module__c_commone___196mQ","evaluate":"index-module__evaluate___3HOhF","callback_content":"index-module__callback_content___-gUb9","pingfen":"index-module__pingfen___2Q5t8","laber":"index-module__laber___3V_ED","star":"index-module__star___wMZRX","star_item":"index-module__star_item___3ZJwT","star_current":"index-module__star_current___20gZp","user_callback":"index-module__user_callback___vEZyk","m_content":"index-module__m_content___1gnNG","m_email":"index-module__m_email___2TdrK"}},"219":function(e,t,a){},"220":function(e,t,a){e.exports={"header":"index-module__header___2j6wN","avatar":"index-module__avatar___lZZke","nickName":"index-module__nickName___sX_iC","name":"index-module__name___yBqOL","edit":"index-module__edit___1hDzd","msg":"index-module__msg___3omx4","num":"index-module__num___hfxar"}},"221":function(e,t,a){},"222":function(e,t,a){e.exports={"box":"index-module__box___UiLis","wxloginButton":"index-module__wxloginButton___18zpn"}},"297":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Y}));var n=a(13),s=a(2),c=a.n(s),o=a(5),i=a(10),r=a(8),l=a(9),u=a(20),m=a(17),d=a(18),b=a(11),j=a(22),p=a(140),g=(a(219),a(3)),h=a(26),_=a(157),O=a(220),f=a.n(O),x=a(158),v=a(159),y=a(139),N=function(e){Object(m.a)(Header,e);var t=Object(d.a)(Header);function Header(){var e;Object(r.a)(this,Header);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(b.a)(Object(u.a)(e),"goToNewPage",(function(e,t){Object(v.a)({"datatype":"news_fts","behavior":"action","type":"fts_bjzl","url":window.location.href}),console.log(e),t.preventDefault(),t.stopPropagation(),Object(h.l)(e)})),e}return Object(l.a)(Header,[{"key":"render","value":function render(){var e=this.props.item,t=e.userAvatar,n=e.nickName,s=e.userName;return Object(y.jsxs)(p.o,{"className":f.a.header,"children":[Object(y.jsx)(p.o,{"className":f.a.avatar,"children":Object(y.jsx)(p.e,{"mode":"aspectFill","src":t&&"nothing"!==t?t:a(163),"className":f.a.avatar})}),Object(y.jsxs)(p.o,{"className":f.a.nickName,"children":[Object(y.jsx)(p.o,{"className":f.a.name,"children":n||s}),Object(y.jsx)(p.o,{"className":f.a.edit,"onClick":this.goToNewPage.bind(this,"/pages/subPages/editinfo/index"),"children":"编辑资料"})]})]})}}]),Header}(j.Component),k=Object(x.a)(N),w=a(183),S=(a(221),function(e){Object(m.a)(ItemContent,e);var t=Object(d.a)(ItemContent);function ItemContent(){var e;Object(r.a)(this,ItemContent);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(b.a)(Object(u.a)(e),"goToNewPage",(function(e,t){console.log(e),t.preventDefault(),t.stopPropagation(),Object(h.l)(e)})),e}return Object(l.a)(ItemContent,[{"key":"render","value":function render(){var e=this.props,t=e.item,a=e.status,n=t.date,s=t.businessStatus,c=t.title,o=t.content,i=t.enterpriseName,r=t.requirement,l=t.guid;return Object(y.jsxs)(p.o,{"className":"item_c_content","onClick":this.goToNewPage.bind(this,"/pages/subPages/details/details?guid=".concat(l,"&secret=true")),"children":[Object(y.jsxs)(p.o,{"className":"date","children":[Object(y.jsx)(p.o,{"children":n}),Object(y.jsx)(p.o,{"className":a[s].style,"children":a[s].statusName||"未通过"})]}),Object(y.jsxs)(p.o,{"className":"box","children":[Object(y.jsx)(p.o,{"className":"title","children":c}),Object(y.jsx)(p.o,{"className":"detail","children":o}),Object(y.jsxs)(p.o,{"className":"text","children":["[投诉对象] ",i]}),Object(y.jsxs)(p.o,{"className":"text","children":["[投诉要求] ",r]})]})]})}}]),ItemContent}(j.Component)),D=Object(x.a)(S),A=a(167),C=function(e){Object(m.a)(ComplainList,e);var t=Object(d.a)(ComplainList);function ComplainList(){var e;Object(r.a)(this,ComplainList);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s)),Object(b.a)(Object(u.a)(e),"state",{"allData":{"current":1,"pageSize":20,"list":[],"businessStatus":"none","total":0},"rejectData":{"current":1,"pageSize":20,"list":[],"businessStatus":10,"total":0},"processingData":{"current":1,"pageSize":20,"list":[],"businessStatus":13,"total":0},"completeData":{"current":1,"pageSize":20,"list":[],"businessStatus":100,"total":0},"huifu":{"current":1,"pageSize":20,"list":[],"businessStatus":20,"total":0},"tabsIndex":"allData","status":{"100":{"statusName":"已完成","style":"status status_complete"},"20":{"statusName":"已回复","style":"status"},"13":{"statusName":"处理中","style":"status status_chuli"},"10":{"statusName":"未通过","style":"status status status_no"},"1":{"statusName":"待审核","style":"status status_shehe"}},"tabs":[{"name":"全部","type":"allData"},{"name":"未通过","type":"rejectData"},{"name":"处理中","type":"processingData"},{"name":"已完成","type":"completeData"}],"tabsAll":[{"name":"全部","type":"allData"},{"name":"未通过","type":"rejectData"},{"name":"处理中","type":"processingData"},{"name":"已回复","type":"huifu"},{"name":"已完成","type":"completeData"}],"heightArray":{}}),Object(b.a)(Object(u.a)(e),"changeTab",(function(t){"allData"===t&&Object(v.a)({"datatype":"news_fts","behavior":"action","type":"fts_qb","url":window.location.href}),"rejectData"===t&&Object(v.a)({"datatype":"news_fts","behavior":"action","type":"fts_wtg","url":window.location.href}),"processingData"===t&&Object(v.a)({"datatype":"news_fts","behavior":"action","type":"fts_clz","url":window.location.href}),"completeData"===t&&Object(v.a)({"datatype":"news_fts","behavior":"action","type":"fts_ywc","url":window.location.href}),e.setState({"tabsIndex":t})})),Object(b.a)(Object(u.a)(e),"getItemHeight",(function(t){var a={"allData":0,"rejectData":1,"processingData":2,"completeData":3},n=document.querySelectorAll(".getItem_"+a[t]);n=Array.from(n),console.log(n,"domList");var s=0;n.forEach((function(e){s+=e.offsetHeight})),e.setState({"heightArray":Object(o.a)(Object(o.a)({},e.state.heightArray),{},Object(b.a)({},a[t],s))})})),Object(b.a)(Object(u.a)(e),"getData",function(){var t=Object(i.a)(c.a.mark((function _callee(t,a,s,i){var r,l,u,m,d,j,p,O,f,x,v;return c.a.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:if(!a){c.next=19;break}if(r=e.state[t]||{},l=r.current,u=r.pageSize,m=r.businessStatus,d=r.total,j=r.list,i&&(l=1),!(j.length<d)&&s){c.next=18;break}return Object(g.showLoading)({"mask":!0,"title":"获取数据中~"}),p={},"none"!==m&&(p.businessStatus=m),c.next=9,Object(_.i)(a,{"pagination":{"current":l,"pageSize":u},"query":p,"sort":{"key":"createTime","type":"desc"}});case 9:return O=c.sent,console.log(O),x=(f=O||{}).list,v=f.pagination.total,x=x.map((function(e){var t=e.createTime;return Object(o.a)(Object(o.a)({},e),{},{"date":Object(h.e)(t)})})),i?(console.log(t,"type"),e.setState(Object(b.a)({},t,{"pageSize":u,"businessStatus":m,"list":Object(n.a)(x),"total":v,"current":l+1}),(function(){e.getItemHeight(t)}))):e.setState(Object(b.a)({},t,{"pageSize":u,"businessStatus":m,"list":[].concat(Object(n.a)(j),Object(n.a)(x)),"total":v,"current":l+1}),(function(){e.getItemHeight(t)})),Object(g.hideLoading)(),c.abrupt("return",O);case 18:s&&Object(g.showToast)({"title":"没有更多的数据啦~","icon":"none","duration":2e3,"mask":!0});case 19:case"end":return c.stop()}}),_callee)})));return function(e,a,n,s){return t.apply(this,arguments)}}()),e}return Object(l.a)(ComplainList,[{"key":"componentDidMount","value":function componentDidMount(){var e=this,t=this,a=this.state.tabsAll;g.default.eventCenter.on("getData",(function(n){var s;s="common"!==n?a.filter((function(e){return"rejectData"!==e.type})):a.filter((function(e){return"huifu"!==e.type})),t.setState({"tabs":s}),s.forEach((function(t){var a=t.type;e.getData(a,n,!1,!0)}))})),g.default.eventCenter.on("clearData",(function(){console.log("clearData"),a.forEach((function(e){var a=e.type,n=t.state[a];t.setState(Object(b.a)({},a,Object(o.a)(Object(o.a)({},n),{},{"list":[],"current":1,"total":0})))})),t.setState({"tabs":[{"name":"全部","type":"allData"},{"name":"未通过","type":"rejectData"},{"name":"处理中","type":"processingData"},{"name":"已完成","type":"completeData"}]})}))}},{"key":"pullDownRefresh","value":function pullDownRefresh(){var e=this,t=this.state.tabsIndex,a=this.props.roleType;console.log("pull",t),setTimeout((function(){e.getData(t,a,!1,!0)}),0)}},{"key":"reachBottom","value":function reachBottom(){console.log("boto");var e=this.state.tabsIndex,t=this.props.roleType;this.getData(e,t,!0)}},{"key":"render","value":function render(){var e=this,t=this.props,a=(t.height,t.roleType),n=t.currentTab,s=this.state,c=s.tabsIndex,o=s.status,i=s.tabs;s.heightArray;return Object(y.jsxs)(p.o,{"className":"complain"===n?"":"hidden","children":[Object(y.jsx)(p.o,{"className":"tab","children":i.map((function(t,a){var n=t.name,s=t.type,o=e.state[s].total;return Object(y.jsxs)(p.o,{"onClick":e.changeTab.bind(e,s),"className":c===s?"tab_item current":"tab_item","children":[n,"（",o>100?"99+":o,"）"]},"tab_".concat(a))}))}),Object(y.jsx)(p.o,{"className":"list_box","style":{"height":"100%"},"children":i.map((function(t,n){var s=t.type;return Object(y.jsx)(p.h,{"className":c===s?"scrollview":"scrollview hidden","scrollY":!0,"scrollAnchoring":!0,"lowerThreshold":20,"upperThreshold":20,"onScrollToUpper":e.pullDownRefresh.bind(e),"onScrollToLower":e.reachBottom.bind(e),"children":Object(y.jsxs)(p.o,{"className":"content","children":[e.state[s].list.map((function(e,t){var s=e.businessStatus,c=e.guid;return 100===s||20===s||13===s||10===s||1===s?Object(y.jsxs)(p.o,{"className":"item getItem_".concat(n),"children":[Object(y.jsx)(D,{"item":e,"status":o}),Object(y.jsx)(w.a,{"guid":c,"businessStatus":s,"roleType":a})]},"c_".concat(n,"_").concat(t)):""})),!e.state[s].list.length&&Object(y.jsx)(A.a,{}),Object(y.jsx)(p.o,{"className":"dianpian"})]})},"c_".concat(n))}))})]})}}]),ComplainList}(j.Component),T=Object(x.a)(C),B=a(194),I=a.n(B),M=function Complain(e){var t=e.complaint_title,a=e.complaint_content,n=e.enterprise_name,s=e.complaint_requirement,c=e.complaint_guid,o=e.secret,i=void 0===o||o;return Object(y.jsxs)(p.o,{"className":I.a.complain,"onClick":function jump(e){Object(h.l)(e)}.bind(void 0,i?"/pages/subPages/details/details?guid=".concat(c,"&secret=true"):"/pages/subPages/details/details?guid=".concat(c)),"children":[Object(y.jsx)(p.o,{"className":I.a.title,"children":t}),Object(y.jsx)(p.o,{"className":I.a.c_content,"children":a}),Object(y.jsxs)(p.o,{"className":I.a.c_commone,"children":["[投诉对象] ",n]}),Object(y.jsxs)(p.o,{"className":I.a.c_commone,"children":["[投诉要求] ",s]})]})},P=function(e){Object(m.a)(msgList,e);var t=Object(d.a)(msgList);function msgList(){var e;Object(r.a)(this,msgList);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s)),Object(b.a)(Object(u.a)(e),"state",{"unReadNum":{"reply":0,"comment":0,"like":0,"msg":0,"evaluate":0},"reply":{"firstId":"","lastId":"","pageSize":10,"list":[],"more":!0},"comment":{"firstId":"","lastId":"","pageSize":10,"list":[],"more":!0},"like":{"firstId":"","lastId":"","pageSize":10,"list":[],"more":!0},"msg":{"firstId":"","lastId":"","pageSize":10,"list":[],"more":!0},"evaluate":{"firstId":"","lastId":"","pageSize":10,"list":[],"more":!0},"tabsIndex":"reply","status":{"100":{"statusName":"已完成","style":"status status_complete"},"20":{"statusName":"已回复","style":"status"},"13":{"statusName":"处理中","style":"status status_chuli"},"10":{"statusName":"未通过","style":"status status status_no"},"1":{"statusName":"待审核","style":"status status_shehe"}},"tabsUser":[{"name":"商家回复","type":"reply"},{"name":"网友评论","type":"comment"},{"name":"赞过我的","type":"like"}],"tabsMerchant":[{"name":"网友评价","type":"evaluate"},{"name":"系统消息","type":"msg"}],"tabs":[{"name":"商家回复","type":"reply"},{"name":"网友评论","type":"comment"},{"name":"赞过我的","type":"like"}]}),Object(b.a)(Object(u.a)(e),"changeTab",(function(t){var a=[e.state.tabsIndex];e.setState({"tabsIndex":t}),"like"!==t&&"msg"!==t||a.push(t),g.default.eventCenter.trigger("changeFlag",a)})),Object(b.a)(Object(u.a)(e),"jump",(function(e){Object(h.l)(e)})),Object(b.a)(Object(u.a)(e),"getData",function(){var t=Object(i.a)(c.a.mark((function _callee(t,a,s,i,r){var l,u,m,d,j,p,O,f,x,v;return c.a.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:if(!a){c.next=23;break}if(l=e.state[t]||{},u=l.firstId,m=l.lastId,d=l.list,!l.more&&s){c.next=22;break}if(Object(g.showLoading)({"mask":!0,"title":"获取数据中~"}),p={},s?p.last_id=m:(u&&(p.last_id=u),r&&(p.sort=1)),"like"!==t){c.next=12;break}return c.next=9,Object(_.z)(p);case 9:j=c.sent,c.next=16;break;case 12:return p.type="reply"===t?"1":"comment"===t?"2":"evaluate"===t?"3":"4",c.next=15,Object(_.o)(p);case 15:j=c.sent;case 16:return console.log(j),j&&j.data&&((O=j.data||[]).length||(O=[]),f=O.map((function(e){var t=e.ctime;return Object(o.a)(Object(o.a)({},e),{},{"date":Object(h.e)(1e3*t)})})),x=!0,10!==(v=f.length)&&(x=!1),i?r?e.setState(Object(b.a)({},t,{"list":[].concat(Object(n.a)(f),Object(n.a)(d)),"more":x,"firstId":v?f[0].id:"","lastId":v?f[v-1].id:""})):e.setState(Object(b.a)({},t,{"list":Object(n.a)(f),"more":x,"firstId":v?f[0].id:"","lastId":v?f[v-1].id:""})):e.setState(Object(b.a)({},t,{"list":[].concat(Object(n.a)(d),Object(n.a)(f)),"more":x,"firstId":u,"lastId":v?f[v-1].id:""}))),Object(g.hideLoading)(),c.abrupt("return",j);case 22:s&&Object(g.showToast)({"title":"没有更多的数据啦~","icon":"none","duration":2e3,"mask":!0});case 23:case"end":return c.stop()}}),_callee)})));return function(e,a,n,s,c){return t.apply(this,arguments)}}()),Object(b.a)(Object(u.a)(e),"getStarDom",(function(e){var t=Array(5).fill(1);return Object(y.jsx)(p.o,{"className":I.a.star,"children":t.map((function(t,a){return Object(y.jsx)(p.o,{"className":a<e?"".concat(I.a.star_item," ").concat(I.a.star_current):"".concat(I.a.star_item)},a)}))})})),Object(b.a)(Object(u.a)(e),"copy",(function(e){Object(g.setClipboardData)({"data":e,"success":function success(e){}})})),e}return Object(l.a)(msgList,[{"key":"componentDidMount","value":function componentDidMount(){var e=this;console.log("-------mount");var t,a=this,s=this.state,c=s.tabsUser,i=s.tabsMerchant;g.default.eventCenter.on("msg",(function(n){console.log("msg",n),"common"!==n?(t=i,a.setState({"tabsIndex":"evaluate","tabs":i})):(t=c,a.setState({"tabsIndex":"reply","tabs":c})),t.forEach((function(t){var a=t.type;e.getData(a,n,!1,!0)}))})),g.default.eventCenter.on("clearMsgData",(function(){console.log("clearData"),[].concat(Object(n.a)(c),Object(n.a)(i)).forEach((function(t){var n=t.type,s=e.state[n];a.setState(Object(b.a)({},n,Object(o.a)(Object(o.a)({},s),{},{"list":[],"firstId":"","lastId":"","more":!0})))})),a.setState({"tabs":[{"name":"商家回复","type":"reply"},{"name":"网友评论","type":"comment"},{"name":"赞过我的","type":"like"}],"tabsIndex":"reply","unReadNum":{"reply":0,"comment":0,"like":0,"msg":0,"evaluate":0}})}))}},{"key":"pullDownRefresh","value":function pullDownRefresh(){var e=this,t=this.state.tabsIndex,a=this.props.roleType;console.log("pull",t),setTimeout((function(){e.getData(t,a,!1,!0,"up")}),0)}},{"key":"reachBottom","value":function reachBottom(){console.log("boto");var e=this.state.tabsIndex,t=this.props.roleType;this.getData(e,t,!0)}},{"key":"render","value":function render(){var e=this,t=this.props,n=t.height,s=t.currentTab,c=t.unReadNum,o=this.state,i=o.tabsIndex,r=o.tabs;return Object(y.jsxs)(p.o,{"className":"msg"===s?"":"hidden","children":[Object(y.jsx)(p.o,{"className":"tab","children":r.map((function(t,a){var n=t.name,s=t.type,o=c[s].num;return Object(y.jsxs)(p.o,{"onClick":e.changeTab.bind(e,s),"className":i===s?"tab_item current":"tab_item","children":[n,o>100?"(99+)":o?"(".concat(o,")"):""]},"tab_".concat(a))}))}),Object(y.jsx)(p.o,{"className":"list_box","style":{"height":"".concat(n,"px")},"children":r.map((function(t,n){var s=t.type;return Object(y.jsx)(p.h,{"className":i===s?"scrollview":"scrollview hidden","scrollY":!0,"scrollAnchoring":!0,"lowerThreshold":20,"upperThreshold":20,"onScrollToLower":e.reachBottom.bind(e),"children":Object(y.jsxs)(p.o,{"className":"content","children":["reply"===s&&e.state[s].list.map((function(e,t){var n=e.info,s=n.enterprise_reply,c=n.enterprise_image,o=n.enterprise_name,i=(n.user_nickname,n.user_image,n.complaint_title),r=n.complaint_content,l=n.complaint_requirement,u=n.complaint_guid,m=e.date,d=e.id;return Object(y.jsxs)(p.o,{"className":I.a.item,"children":[Object(y.jsxs)(p.o,{"className":I.a.msg_header,"children":[Object(y.jsx)(p.o,{"className":I.a.imgbox,"children":Object(y.jsx)(p.e,{"mode":"aspectFill","src":c||a(163),"className":I.a.avatar})}),Object(y.jsx)(p.o,{"className":I.a.nickname,"children":o}),Object(y.jsx)(p.o,{"className":I.a.time,"children":m})]}),Object(y.jsx)(p.o,{"className":I.a.msg_content,"children":s}),Object(y.jsx)(M,{"complaint_requirement":l,"complaint_title":i,"complaint_content":r,"enterprise_name":o,"complaint_guid":u})]},d)})),"comment"===s&&e.state[s].list.map((function(e,t){var n=e.info,s=n.comment_content,c=n.subjectInfo,o=n.domain_id,i=(n.user_nickname,n.user_image,n.comment_user_name),r=n.comment_user_avatar,l=e.date,u=e.id,m=c?JSON.parse(c):{},d=m.title,b=m.content,j=m.requirement,g=m.enterpriseName;return Object(y.jsxs)(p.o,{"className":I.a.item,"children":[Object(y.jsxs)(p.o,{"className":I.a.msg_header,"children":[Object(y.jsx)(p.o,{"className":I.a.imgbox,"children":Object(y.jsx)(p.e,{"mode":"aspectFill","src":r||a(163),"className":I.a.avatar})}),Object(y.jsx)(p.o,{"className":I.a.nickname,"children":i||"凤凰网友"}),Object(y.jsx)(p.o,{"className":I.a.time,"children":l})]}),Object(y.jsx)(p.o,{"className":I.a.msg_content,"children":s}),Object(y.jsx)(M,{"complaint_requirement":j,"complaint_title":d,"complaint_content":b,"enterprise_name":g,"complaint_guid":o})]},u)})),"like"===s&&e.state[s].list.map((function(e,t){console.log(e,"3333");var n=e.info,s=n.comment_content,c=n.enterprise_name,o=n.complaint_title,i=n.complaint_content,r=n.complaint_requirement,l=n.domain_id,u=n.subjectInfo,m=n.user_id,d=e.date,b=e.id,j=e.users,h=e.num,_=e.type,O="",f=!0,x="";if(2==_){var v=u?JSON.parse(u):{};o=v.title||"",i=v.content||"",r=v.requirement||"",c=v.enterpriseName||"",x=v.subjectId||"",O=v.userId||m||"";var N=Object(g.getStorageSync)("guid");console.log(N,"guid",O),N!=O&&(f=!1)}var k=j.length;return Object(y.jsxs)(p.o,{"className":I.a.item,"children":[Object(y.jsxs)(p.o,{"className":I.a.msg_header,"children":[Object(y.jsx)(p.o,{"className":I.a.imgbox,"style":"width: ".concat(g.default.pxTransform(17*(k+1))),"children":j.map((function(e,t){var n=e.user_image,s=e.user_id;return Object(y.jsx)(p.e,{"mode":"aspectFill","src":n||a(163),"className":I.a.avatar,"style":"left:".concat(g.default.pxTransform(17*t))},"".concat(s,"_").concat(t))}))}),Object(y.jsx)(p.o,{"className":I.a.nickname,"children":1===k?j[0].user_nickname:"等".concat(h,"人")}),Object(y.jsx)(p.o,{"className":I.a.time,"children":d})]}),Object(y.jsxs)(p.o,{"className":"".concat(I.a.msg_content," ").concat(I.a.c_like),"children":[1==_&&"点赞了你",2==_&&"点赞了[你的评论]"]}),2==_&&Object(y.jsx)(p.o,{"className":I.a.msg_content,"children":s}),Object(y.jsx)(M,{"secret":f,"complaint_requirement":r,"complaint_title":o,"complaint_content":i,"enterprise_name":c,"complaint_guid":x||l})]},b)})),"evaluate"===s&&e.state[s].list.map((function(t,n){var s=t.info,c=s.complaint_title,o=s.service_attiude,i=s.processing_speed,r=s.satisfaction,l=s.content,u=s.user_nickname,m=s.user_image,d=s.complaint_guid,b=t.id,j=t.date;return Object(y.jsxs)(p.o,{"className":I.a.item,"children":[Object(y.jsxs)(p.o,{"className":I.a.msg_header,"children":[Object(y.jsx)(p.o,{"className":I.a.imgbox,"children":Object(y.jsx)(p.e,{"mode":"aspectFill","src":m||a(163),"className":I.a.avatar,"style":"left:0"})}),Object(y.jsx)(p.o,{"className":I.a.nickname,"children":u}),Object(y.jsx)(p.o,{"className":I.a.time,"children":j})]}),Object(y.jsxs)(p.o,{"className":I.a.evaluate,"onClick":e.jump.bind(e,"/pages/subPages/details/details?guid=".concat(d,"&secret=true")),"children":[Object(y.jsx)(p.o,{"className":I.a.title,"children":c}),Object(y.jsxs)(p.o,{"className":I.a.pingfen,"children":[Object(y.jsx)(p.o,{"className":I.a.laber,"children":"服务态度"}),e.getStarDom(o)]}),Object(y.jsxs)(p.o,{"className":I.a.pingfen,"children":[Object(y.jsx)(p.o,{"className":I.a.laber,"children":"处理速度"}),e.getStarDom(i)]}),Object(y.jsxs)(p.o,{"className":I.a.pingfen,"children":[Object(y.jsx)(p.o,{"className":I.a.laber,"children":"满意度"}),e.getStarDom(r)]}),l&&Object(y.jsx)(p.o,{"className":I.a.user_callback,"children":"用户反馈评价："}),Object(y.jsx)(p.o,{"className":I.a.callback_content,"children":l})]})]},b)})),"msg"===s&&e.state[s].list.map((function(t,a){var n=t.info,s=n.email,c=n.message,o=t.date,i=t.id;return Object(y.jsxs)(p.o,{"className":I.a.item,"children":[Object(y.jsx)(p.o,{"className":I.a.time,"children":o}),Object(y.jsxs)(p.o,{"className":I.a.m_content,"children":[Object(y.jsx)(p.l,{"children":c}),s&&(Object(h.p)()?Object(y.jsx)(p.l,{"className":I.a.m_email,"onClick":e.copy.bind(e,s),"children":"点击复制申诉邮箱>>"}):Object(y.jsx)("a",{"className":I.a.m_email,"href":"mailto:".concat(s),"children":"点击申诉>>"}))]})]},i)})),!e.state[s].list.length&&Object(y.jsx)(A.a,{}),Object(y.jsx)(p.o,{"className":"dianpian"})]})},"c_".concat(n))}))})]})}}]),msgList}(j.Component),E=Object(x.a)(P),q=a(222),W=a.n(q),L=a(205),U=function weappLogin(){var e=function(){var e=Object(i.a)(c.a.mark((function _callee(){var e,t;return c.a.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(_.y)();case 2:e=a.sent,Object(g.setStorageSync)("userInfo",JSON.stringify(e)),Object(g.hideLoading)(),t=g.default.getCurrentPages().length,console.log(t),t>1?g.default.navigateBack({"delta":1}):Object(h.l)("/pages/index/index",!0);case 8:case"end":return a.stop()}}),_callee)})));return function loginSuccess(){return e.apply(this,arguments)}}(),t=Object(L.b)({"appId":"ifeng-complaint","loginByWx":_.D}),a=(t.token,t.getTokenRequest),n=Object(L.c)(a),s=n.userInfo,o=n.getUserProfile;return Object(y.jsx)(j.Fragment,{"children":Object(y.jsx)(p.o,{"className":W.a.box,"children":Object(y.jsx)(p.o,{"className":W.a.wxloginButton,"onClick":function login(){console.log("login---",s),s?a({"success":e,"error":h.q}):(console.log("login2"),o({"success":e,"error":h.q}))},"children":"微信登录"})})})},Y=function(e){Object(m.a)(My,e);var t,a,s,j=Object(d.a)(My);function My(){var e;Object(r.a)(this,My);for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return e=j.call.apply(j,[this].concat(a)),Object(b.a)(Object(u.a)(e),"state",{"userName":"","roleType":"true","userAvatar":"","nickName":"","height":0,"currentTab":"complain","tab":[{"name":"个人投诉","type":"complain","init":!0},{"name":"消息中心","type":"msg","init":!1}],"init":!0,"unReadNum":{"reply":{"num":0,"read":!1},"comment":{"num":0,"read":!1},"like":{"num":0,"read":!1},"msg":{"num":0,"read":!1},"evaluate":{"num":0,"read":!1}},"flag":!1,"deviceType":""}),Object(b.a)(Object(u.a)(e),"$instance",g.default.getCurrentInstance()),Object(b.a)(Object(u.a)(e),"userTab",["reply","comment","like"]),Object(b.a)(Object(u.a)(e),"businessTab",["msg","evaluate"]),Object(b.a)(Object(u.a)(e),"unReadMsg",Object(i.a)(c.a.mark((function _callee(){var t,a,n,s,i,r,l,u;return c.a.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(_.w)();case 2:(t=c.sent)&&(a=t.data,n=a.like,s=a.enterprise_msg,i=a.user_msg,r=a.rating_msg,l=a.system_msg,u=e.state.unReadNum,Object.keys(u).forEach((function(e){var t=0;switch(e){case"like":t=n;break;case"comment":t=i;break;case"reply":t=s;break;case"evaluate":t=r;break;case"msg":t=l;break;default:t=0}u=Object(o.a)(Object(o.a)({},u),{},Object(b.a)({},e,{"num":t,"read":!1}))})),e.setState({"unReadNum":u}),e.getReadStatus());case 4:case"end":return c.stop()}}),_callee)})))),Object(b.a)(Object(u.a)(e),"getDeviceInfo",Object(i.a)(c.a.mark((function _callee2(){return c.a.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:window.navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)?e.setState({"deviceType":"mobile"}):e.setState({"deviceType":"pc"});case 1:case"end":return t.stop()}}),_callee2)})))),Object(b.a)(Object(u.a)(e),"changeStatus",(function(t,a,s){var c=e.state[t],o=c.list,i=c.pageSize,r=c.businessStatus,l=c.total,u=c.current,m=o.findIndex((function(e){return e.guid===a}));-1!==m&&(o[m].businessStatus=s),e.setState(Object(b.a)({},t,{"pageSize":i,"businessStatus":r,"list":Object(n.a)(o),"total":l,"current":u}))})),Object(b.a)(Object(u.a)(e),"getReadStatus",(function(t){var a,n=Object(u.a)(e),s=n.state,c=s.roleType,o=s.unReadNum,i=s.flag,r=n.userTab,l=n.businessTab;t&&t.forEach((function(e){return o[e].read=!0})),a="common"!==c?l:r,e.setState({"unReadNum":o});for(var m=!1,d=0;d<a.length;d++){var b=a[d],j=o[b],p=j.num,g=j.read;if(p&&!g){m=!0;break}}i!==m&&e.setState({"flag":m})})),Object(b.a)(Object(u.a)(e),"goToNewPage",(function(e,t){console.log(e),t.preventDefault(),t.stopPropagation(),Object(h.l)(e)})),Object(b.a)(Object(u.a)(e),"login",(function(){var t=e.state.deviceType;console.log("deviceType",t),Object(h.n)()?Object(h.w)():Object(h.l)("/pages/subPages/login/index")})),Object(b.a)(Object(u.a)(e),"changeBigTab",(function(t){var a=e.state,n=a.tab,s=a.roleType,c=n[t],o=c.type,i=c.init;e.setState({"currentTab":o}),i||(n[t].init=!0,g.default.eventCenter.trigger("".concat(o),s),e.setState({"tab":n}))})),e}return Object(l.a)(My,[{"key":"componentWillMount","value":function componentWillMount(){var e=this,t=this.$instance.router.onReady;g.default.eventCenter.once(t,Object(i.a)(c.a.mark((function _callee3(){return c.a.wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:e.getHeight();case 1:case"end":return t.stop()}}),_callee3)})))),this.getDeviceInfo()}},{"key":"loginGetData","value":(s=Object(i.a)(c.a.mark((function _callee4(){return c.a.wrap((function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:"complain"===this.state.currentTab&&(this.setState({"userName":"6841299663685951530","roleType":"common","userAvatar":"https://x0.ifengimg.com/cmpp/2020/1201/d0b4cef558ca6a2size25_w360_h360.jpg","nickName":"一丝不苟de娜塔莉_重雁"}),this.unReadMsg(),g.default.eventCenter.trigger("getData","common"));case 10:case"end":return e.stop()}}),_callee4,this)}))),function loginGetData(){return s.apply(this,arguments)})},{"key":"loginOut","value":function loginOut(){g.default.eventCenter.trigger("clearData",""),g.default.eventCenter.trigger("clearMsgData",""),this.setState({"init":!0,"userName":"","roleType":"","userAvatar":"","nickName":"","unReadNum":{"reply":{"num":0,"read":!1},"comment":{"num":0,"read":!1},"like":{"num":0,"read":!1},"msg":{"num":0,"read":!1},"evaluate":{"num":0,"read":!1}},"flag":!1,"currentTab":"complain"}),Object(h.c)()}},{"key":"getHeight","value":(a=Object(i.a)(c.a.mark((function _callee5(){var e,t,a,n,s,o;return c.a.wrap((function _callee5$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(h.i)();case 2:return e=c.sent,t=e.windowHeight,c.next=6,Object(h.g)("fix_height");case 6:return a=c.sent,n=a.height,c.next=10,Object(h.g)("tab");case 10:s=c.sent,o=s.height,console.log(t,n,o),"WEB"!==g.default.getEnv()?this.setState({"height":t-n-o+20}):this.setState({"height":t-n-o});case 14:case"end":return c.stop()}}),_callee5,this)}))),function getHeight(){return a.apply(this,arguments)})},{"key":"componentDidMount","value":function componentDidMount(){var e=this,t=g.default.getCurrentPages();(null==t?void 0:t.length)>0&&Object(v.a)({"datatype":"news_fts","behavior":"action","type":"fts_btnmy","url":window.location.href}),Object(g.getStorageSync)("Authorization")||this.loginOut(),g.default.eventCenter.on("complete",(function(e){console.log("complete")})),g.default.eventCenter.on("businessReplay",(function(e){console.log("complete")})),g.default.eventCenter.on("changeFlag",(function(t){e.getReadStatus(t)}))}},{"key":"componentWillUnmount","value":function componentWillUnmount(){}},{"key":"componentDidShow","value":(t=Object(i.a)(c.a.mark((function _callee6(){return c.a.wrap((function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:return Object(v.a)({"datatype":"news_fts","behavior":"page","id":"fts_my","url":window.location.href,"type":"other"}),Object(g.hideToast)(),Object(g.hideLoading)(),e.next=5,Object(h.o)();case 5:e.sent?this.loginGetData():Object(g.getStorageSync)("noPhone")?(console.log("用户没有实名~"),this.setState({"userName":Object(h.k)().getNickname(),"roleType":"common","userAvatar":Object(h.k)().getUserImage()||"","nickName":Object(h.k)().getNickname()})):this.loginOut();case 7:case"end":return e.stop()}}),_callee6,this)}))),function componentDidShow(){return t.apply(this,arguments)})},{"key":"componentDidHide","value":function componentDidHide(){Object(g.hideToast)(),Object(g.hideLoading)()}},{"key":"render","value":function render(){var e=this,t=this.state,a=t.userName,n=t.userAvatar,s=t.nickName,c=t.roleType,o=t.height,i=t.currentTab,r=t.tab,l=t.unReadNum,u=t.flag;return Object(y.jsxs)(p.o,{"className":"my","children":[Object(y.jsxs)(p.o,{"style":{"backgroundColor":"white"},"className":"fix_height","children":[c?Object(y.jsx)(k,{"item":{"userAvatar":n,"nickName":s,"userName":a}}):Object(h.p)()?Object(y.jsx)(U,{}):Object(y.jsx)(p.o,{"className":"header_login","children":Object(y.jsx)(p.o,{"className":"login_btn","onClick":this.login,"children":"登录"})}),Object(y.jsx)(p.o,{"className":"header_tab","children":r.map((function(t,a){var n=t.name,s=t.type;return"msg"!==s?Object(y.jsx)(p.o,{"className":i===s?"header_tab_item current":"header_tab_item","onClick":e.changeBigTab.bind(e,a),"children":n},s):Object(y.jsx)(p.o,{"className":i===s?"header_tab_item current":"header_tab_item","onClick":e.changeBigTab.bind(e,a),"children":Object(y.jsxs)(p.o,{"className":"tab_name","children":[n,u&&Object(y.jsx)(p.o,{"className":"new_message"})]})},s)}))})]}),Object(y.jsx)(T,{"roleType":c,"height":o,"currentTab":i}),Object(y.jsx)(E,{"roleType":c,"height":o,"currentTab":i,"unReadNum":l})]})}}]),My}(j.Component)}}]);