(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{"246":function(e,t,a){e.exports={"addDetails":"index-module__addDetails___2hNgL","detailsBox":"index-module__detailsBox___2j5tT","moduleTh":"index-module__moduleTh___3Jk2P","moduleText":"index-module__moduleText___2GNNd","moduleInfo":"index-module__moduleInfo___1CEdn","detailBd":"index-module__detailBd___1DLMF","detailTextarea":"index-module__detailTextarea___2Xba5","detailNum":"index-module__detailNum___1qsus","detailClose":"index-module__detailClose___1Gukm","attachmentBorder":"index-module__attachmentBorder___2FzJW","attachmentButton":"index-module__attachmentButton___3hG6N","attachmentBd":"index-module__attachmentBd___112XM","attachmentButtonText":"index-module__attachmentButtonText___2EtIm","attachmentPics":"index-module__attachmentPics___3MKsN","attachmentPicItem":"index-module__attachmentPicItem___2HpGy","attachmentPic":"index-module__attachmentPic___2FUSG","picClose":"index-module__picClose___yJkfa","moduleTip":"index-module__moduleTip___2O3aj","moduleTipText":"index-module__moduleTipText___1RUlz","privacy":"index-module__privacy___1KvWL","privacyText":"index-module__privacyText___NHr9X","privacySwitch":"index-module__privacySwitch___dLSTh","contact":"index-module__contact___1I2Zu","privacyTex":"index-module__privacyTex___3gYAD","privacyTel":"index-module__privacyTel___Ir-DQ","privacyInfo":"index-module__privacyInfo___1ls6N","operation":"index-module__operation___1ytSF","submitButton":"index-module__submitButton___F-C5D","errorTip":"index-module__errorTip___324FX"}},"280":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var i=a(2),n=a.n(i),d=a(10),l=a(8),c=a(9),o=a(20),_=a(17),r=a(18),s=a(11),u=a(22),m=a(140),h=a(3),p=a(204),x=a(246),j=a.n(x),b=a(165),O=a(164),T=a(52),N=a(24),v=a(157),g=a(139),f=function(e){Object(_.a)(Details,e);var t=Object(r.a)(Details);function Details(){var e;Object(l.a)(this,Details);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),Object(s.a)(Object(o.a)(e),"$instance",h.default.getCurrentInstance()),Object(s.a)(Object(o.a)(e),"state",{"detail":"","uploadImgUrls":[],"uploadVideoUrls":[],"errorWaring":{"detail":"","picNum":"","videoNum":""}}),Object(s.a)(Object(o.a)(e),"errorTipSwitch",!1),Object(s.a)(Object(o.a)(e),"inputChangeHandle",(function(t,a){var i={};i[a]=t.detail.value,e.setState(i)})),Object(s.a)(Object(o.a)(e),"detailChangeHandle",(function(t){e.setState({"detail":t})})),Object(s.a)(Object(o.a)(e),"submitDataHandle",Object(d.a)(n.a.mark((function _callee(){var t,a,i,d,l,c,o,_,r;return n.a.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.state,a=t.detail,i=t.uploadImgUrls,d=t.uploadVideoUrls,l=e.$instance&&e.$instance.router&&e.$instance.router.path||"",c=Object(N.b)()?Object(T.i)(l).complaintGuid:e.$instance.router.params.complaintGuid,n.next=5,Object(v.e)(i,c);case 5:if(i=n.sent,o={"complaintGuid":c,"content":a,"uploadImgUrls":i,"uploadVideoUrls":d},_={"detail":"","picNum":"","videoNum":""},e.errorTipSwitch=!1,a||(_.detail="请输入补充投诉详情内容",e.errorTipSwitch=!0),a&&a.length<20&&(_.detail="补充投诉详情不得少于20字",e.errorTipSwitch=!0),i&&i.length>10&&(_.picNum="图片不能超过10张"),d&&d.length>3&&(_.videoNum="视频不能超过3个"),e.setState({"errorWaring":_}),!e.errorTipSwitch){n.next=16;break}return n.abrupt("return",!1);case 16:return n.next=18,Object(O.f)(o);case 18:(r=n.sent)&&200===r.code&&"success"===r.message?h.default.navigateBack({"delta":1}):r&&r.message?Object(h.showToast)({"title":r.message,"icon":"none","duration":2e3}):Object(h.showToast)({"title":"上传参数有误","icon":"none","duration":2e3});case 20:case"end":return n.stop()}}),_callee)})))),Object(s.a)(Object(o.a)(e),"getUploadHandle",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.setState({"uploadImgUrls":t,"uploadVideoUrls":a})})),e}return Object(c.a)(Details,[{"key":"render","value":function render(){var e=this.state,t=e.detail,a=e.errorWaring;return Object(g.jsxs)(m.o,{"className":j.a.addDetails,"children":[Object(g.jsx)(m.o,{"className":j.a.detailsBox,"children":Object(g.jsxs)(m.o,{"className":j.a.formList,"children":[Object(g.jsxs)(m.o,{"className":j.a.detail,"children":[Object(g.jsx)(m.o,{"className":j.a.moduleTh,"children":Object(g.jsx)(m.l,{"className":j.a.moduleText,"children":"投诉详情"})}),Object(g.jsx)(b.a,{"theme":"white","defaultPlaceholder":"请输入补充内容","defaultDetail":t,"detailChangeHandle":this.detailChangeHandle})]}),a.detail&&Object(g.jsx)(m.o,{"className":j.a.errorTip,"children":a.detail}),Object(g.jsx)(m.o,{"className":j.a.attachment,"children":Object(g.jsxs)(m.o,{"className":j.a.attachmentBd,"children":[Object(g.jsx)(p.a,{"getUploadHandle":this.getUploadHandle}),Object(g.jsx)(m.o,{"className":j.a.attachmentButtonText,"children":"*添加相关截图会提高投诉成功率，若有隐私记得隐藏"})]})}),a.picNum&&Object(g.jsx)(m.o,{"className":j.a.errorTip,"children":a.picNum}),a.videoNum&&Object(g.jsx)(m.o,{"className":j.a.errorTip,"children":a.videoNum})]})}),Object(g.jsx)(m.o,{"className":j.a.operation,"children":Object(g.jsx)(m.o,{"className":j.a.submitButton,"onClick":this.submitDataHandle,"children":"提交"})})]})}}]),Details}(u.Component)}}]);