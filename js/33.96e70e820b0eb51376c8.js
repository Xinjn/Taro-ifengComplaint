(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{"165":function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var l=a(8),o=a(9),n=a(20),c=a(17),i=a(18),d=a(11),r=a(22),s=a(140),m=a(166),_=a.n(m),u=a(159),p=a(139),h=function(e){Object(c.a)(TextareaDetail,e);var t=Object(i.a)(TextareaDetail);function TextareaDetail(){var e;Object(l.a)(this,TextareaDetail);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),Object(d.a)(Object(n.a)(e),"state",{"detail":"","isShowContent":!1,"detailLength":0,"isShowDetailClose":!1}),Object(d.a)(Object(n.a)(e),"inputChangeHandle",(function(t,a){var l=e.props.detailChangeHandle,o={};o[a]=t.detail.value,"detail"===a&&e.setState({"detailLength":t.detail.value.length}),"detail"===a&&t.detail.value&&e.setState({"isShowDetailClose":!0}),"detail"!==a||t.detail.value||e.setState({"isShowDetailClose":!1}),e.setState(o),l(t.detail.value)})),Object(d.a)(Object(n.a)(e),"clearStateHandle",(function(){e.props.detailChangeHandle(""),e.setState({"detailLength":0,"detail":"","isShowDetailClose":!1})})),e}return Object(o.a)(TextareaDetail,[{"key":"componentWillMount","value":function componentWillMount(){var e=this.props.defaultDetail;this.setState({"detail":e})}},{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){e.defaultDetail!==this.state.detail&&this.setState({"detail":e.defaultDetail})}},{"key":"render","value":function render(){var e=this,t=this.state,a=t.detailLength,l=t.detail,o=t.isShowDetailClose,n=this.props,c=n.defaultPlaceholder,i=n.theme;return Object(p.jsxs)(s.o,{"children":["white"===i&&Object(p.jsxs)(s.o,{"onClick":function onClick(){Object(u.a)({"datatype":"news_fts","behavior":"action","type":"ftx_tsxq","url":window.location.href})},"className":_.a.detailBd,"children":[Object(p.jsx)(s.m,{"className":_.a.detailTextarea,"placeholder":c,"maxlength":1e3,"onInput":function onInput(t){e.inputChangeHandle(t,"detail")},"value":l,"placeholderClass":_.a.placeholderStyle,"placeholderStyle":"color: #9E9E9E,font-size:14px"}),Object(p.jsxs)(s.o,{"className":_.a.detailNum,"children":[Object(p.jsx)(s.l,{"className":_.a.titleText,"children":a}),"/1000"]}),o&&Object(p.jsx)(s.o,{"className":_.a.detailClose,"onClick":this.clearStateHandle})]}),"gray"===i&&Object(p.jsxs)(s.o,{"onClick":function onClick(){Object(u.a)({"datatype":"news_fts","behavior":"action","type":"ftx_tsxq","url":window.location.href})},"className":_.a.resolveBorder,"children":[Object(p.jsx)(s.m,{"className":_.a.resolveTextarea,"placeholder":c,"maxlength":1e3,"onInput":function onInput(t){e.inputChangeHandle(t,"detail")},"value":l,"placeholderClass":_.a.placeholderStyle,"placeholderStyle":"color: #9E9E9E,font-size:14px"}),Object(p.jsxs)(s.o,{"className":_.a.resolveNum,"children":[Object(p.jsx)(s.l,{"className":_.a.titleText,"children":a}),"/1000"]}),o&&Object(p.jsx)(s.o,{"className":_.a.resolveClose,"onClick":this.clearStateHandle})]})]})}}]),TextareaDetail}(r.Component)},"166":function(e,t,a){e.exports={"detailBd":"index-module__detailBd___1JSgX","detailTextarea":"index-module__detailTextarea___3uyBZ","detailNum":"index-module__detailNum___R6o6X","detailClose":"index-module__detailClose___2RO9s","resolveBorder":"index-module__resolveBorder___5IPZc","resolveTextarea":"index-module__resolveTextarea___2eY_y","resolveNum":"index-module__resolveNum___1A13L","resolveClose":"index-module__resolveClose___1nOYb","placeholderStyle":"index-module__placeholderStyle___3gE4x"}},"272":function(e,t,a){e.exports={"completeComplaint":"completeComplaint-module__completeComplaint___3ckF1","radio_box":"completeComplaint-module__radio_box___2qQmp","item":"completeComplaint-module__item___3WIPs","radio":"completeComplaint-module__radio___34nL3","checked":"completeComplaint-module__checked___9S81f","moduleTh":"completeComplaint-module__moduleTh___1hIWt","moduleText":"completeComplaint-module__moduleText___3Dcef","errortips":"completeComplaint-module__errortips___16aG7","detailBd":"completeComplaint-module__detailBd___2BsQp","detailTextarea":"completeComplaint-module__detailTextarea___1UF4p","detailNum":"completeComplaint-module__detailNum___14Lv6","detailClose":"completeComplaint-module__detailClose___OB4bi","attachmentBorder":"completeComplaint-module__attachmentBorder___105oJ","attachmentButton":"completeComplaint-module__attachmentButton___aaoze","attachmentBd":"completeComplaint-module__attachmentBd___q2myi","attachmentButtonText":"completeComplaint-module__attachmentButtonText___3xJ5E","attachmentPics":"completeComplaint-module__attachmentPics___2yBam","attachmentPicItem":"completeComplaint-module__attachmentPicItem___5bvgs","attachmentPic":"completeComplaint-module__attachmentPic___20etE","picClose":"completeComplaint-module__picClose___3Lf9E","moduleTip":"completeComplaint-module__moduleTip___1yKcW","moduleTipText":"completeComplaint-module__moduleTipText___1SEDA","privacy":"completeComplaint-module__privacy___2IqvN","privacyText":"completeComplaint-module__privacyText___2uAMQ","privacySwitch":"completeComplaint-module__privacySwitch___1Rrko","contact":"completeComplaint-module__contact___3Ptfy","privacyTex":"completeComplaint-module__privacyTex___26r9y","privacyTel":"completeComplaint-module__privacyTel___pBINW","privacyInfo":"completeComplaint-module__privacyInfo___1OJQj","operation":"completeComplaint-module__operation___3gs4g","submitButton":"completeComplaint-module__submitButton___rZ6_1"}},"290":function(e,t,a){"use strict";a.r(t);var l=a(2),o=a.n(l),n=a(10),c=a(5),i=a(8),d=a(9),r=a(20),s=a(17),m=a(18),_=a(11),u=a(3),p=a(22),h=a(140),b=a(272),j=a.n(b),x=a(165),C=a(157),v=a(139),f=a(160),O=function(e){Object(s.a)(Completecomplaint,e);var t=Object(m.a)(Completecomplaint);function Completecomplaint(){var e;Object(i.a)(this,Completecomplaint);for(var a=arguments.length,l=new Array(a),d=0;d<a;d++)l[d]=arguments[d];return e=t.call.apply(t,[this].concat(l)),Object(_.a)(Object(r.a)(e),"$instance",u.default.getCurrentInstance()),Object(_.a)(Object(r.a)(e),"state",{"list":[{"value":"已与用户沟通达成一致","checked":!1},{"value":"联系不上用户","checked":!1},{"value":"最终解决方案","checked":!0}],"feedbackText":"","count":0,"guid":"","uploadImgUrls":[],"uploadVideoUrls":[],"uploadFlag":!1,"errorTips":!1}),Object(_.a)(Object(r.a)(e),"detailChangeHandle",(function(t){e.setState({"feedbackText":t})})),Object(_.a)(Object(r.a)(e),"getUploadHandle",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];console.log("上传完成"),e.setState({"uploadImgUrls":t,"uploadVideoUrls":a}),e.setState({"uploadFlag":!1})})),Object(_.a)(Object(r.a)(e),"changeState",(function(){e.setState({"uploadFlag":!0})})),Object(_.a)(Object(r.a)(e),"checked",(function(t){var a=e.state.list.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{"checked":!1})}));a[t].checked=!a[t].checked,e.setState({"list":a})})),Object(_.a)(Object(r.a)(e),"submitDataHandle",Object(n.a)(o.a.mark((function _callee(){var t,a,l,n,c,i,d,r,s,m,_,p;return o.a.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.state,a=t.guid,l=t.uploadFlag,n=t.feedbackText,c=t.uploadImgUrls,i=t.uploadVideoUrls,d=t.list,e.setState({"errorTips":!1}),n){o.next=5;break}return e.setState({"errorTips":!0}),o.abrupt("return",!1);case 5:if(!(n&&n.length<20)){o.next=8;break}return e.setState({"errorTips":!0}),o.abrupt("return",!1);case 8:if(r=d.find((function(e){return e.checked})),console.log(r),r){o.next=13;break}return Object(u.showToast)({"title":"请选择申请原因","icon":"none","duration":2e3}),o.abrupt("return",!1);case 13:if(!l){o.next=16;break}return Object(u.showToast)({"title":"有图片或者视频正在上传请等待","icon":"none","duration":2e3}),o.abrupt("return",!1);case 16:return s={"complaintGuid":a,"content":"".concat(r.value,":").concat(n),"uploadImgUrls":c,"uploadVideoUrls":i},o.next=19,Object(C.c)(s);case 19:m=o.sent,_=m.code,p=m.message,200===_?u.default.navigateBack({"delta":1}):Object(u.showToast)({"title":p,"duration":2e3,"icon":"none"});case 23:case"end":return o.stop()}}),_callee)})))),e}return Object(d.a)(Completecomplaint,[{"key":"componentWillMount","value":function componentWillMount(){}},{"key":"componentDidMount","value":function componentDidMount(){var e,t=(null===(e=this.$instance.router)||void 0===e?void 0:e.params).guid;this.setState({"guid":t})}},{"key":"componentWillUnmount","value":function componentWillUnmount(){}},{"key":"componentDidShow","value":function componentDidShow(){}},{"key":"componentDidHide","value":function componentDidHide(){}},{"key":"render","value":function render(){var e=this,t=this.state,a=t.list,l=t.feedbackText,o=t.errorTips;return Object(v.jsx)(h.a,{"children":Object(v.jsxs)(h.o,{"className":f(j.a.completeComplaint),"children":[Object(v.jsx)(h.o,{"className":j.a.moduleTh,"children":Object(v.jsx)(h.l,{"className":j.a.moduleText,"children":"申请原因"})}),Object(v.jsx)(h.o,{"className":f(j.a.radio_box),"children":a.map((function(t,a){var l=t.checked,o=t.value;return Object(v.jsxs)(h.o,{"className":f(j.a.item),"onClick":e.checked.bind(e,a),"children":[Object(v.jsx)(h.o,{"className":f(l?j.a.checked:j.a.radio)}),Object(v.jsx)(h.l,{"children":o})]},a)}))}),Object(v.jsx)(h.o,{"className":j.a.moduleTh,"children":Object(v.jsx)(h.l,{"className":j.a.moduleText,"children":"解决方案"})}),Object(v.jsx)(x.a,{"theme":"white","defaultPlaceholder":"请输入","defaultDetail":l,"detailChangeHandle":this.detailChangeHandle}),o&&Object(v.jsx)(h.o,{"className":j.a.errortips,"children":"解决方案请控制在20到1000字"}),Object(v.jsx)(h.o,{"className":j.a.operation,"children":Object(v.jsx)(h.o,{"className":j.a.submitButton,"onClick":this.submitDataHandle,"children":"提交"})})]})})}}]),Completecomplaint}(p.Component);t.default=O}}]);