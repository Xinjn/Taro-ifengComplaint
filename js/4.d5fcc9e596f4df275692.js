(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"175":function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAADuUlEQVRYR+1YTYhbVRQ+595kIpnE/mq1dqFUsdAOhrl5782QTUSw6IBKK4KgIoKL6kLQhSshWxdduBIXSvEHF7VFhdEyID4Ywsy8Ny8TZ8BWKFqQto5/ndJJdF5y75EzvEAqM323OCBKsjpw/r6cnJNzvotg90Gl1C4hxGFjzEEAyNu4CSH+IKJvtdZnFhYWfgUASvPDNAPWK6XyiPg0ABwiIiufXlxEZBBn4zj+aHFxsZWWzyq44zh3ENGrRDQkhPiJiC6lBU707LcXALr5fP749PT05TQ/K0Ce593X7XZf5mBCiBNhGDbTArPecZyDxpgXWSaidxqNxtk0P+6N/QCwHxHlZsaIuNMY4ySAmkS0nBY40e8mIsUyIkYAwH204YeINBF9j47jvEFEO2+2NywBWZtxryHiFQb0kjFmH3+JvkbMEZFARENEazbTYZkZEbE/9p/9zS+E+BE9z7s1juN9UkrRF/QoEe0AgGUimgKAtmXCNDOe1ocBYI8Q4net9cmegxDCFAqFixs2tVLqdQC4Uwjxw9DQ0Hv1ev1aWiYbfaVSKcZx/IIx5h4AuBxF0Zt/9xsA+v9WqFKp7O10OkeI6Jfh4eHPfN9fn5BSqbQ9k8kcZbnb7Z5qNpsrLFer1VtardbjiHhbNps9Xa/XL21pDzmO8xARTfDEGWNONBqN85zY8zyltX4q+dM8GQTBPMujo6P3CiGe50WMiJNhGH61pYCUUjyujyJii4g+iKLoXAJoTGt9hGUp5em5ublZlpVSBxDxWSIaBoAvoiiaGgAaVGjQQ729stEuG0xZ/9YdVKivGtbnx6CH/pM9hIiPJPf1+/Pz898lS9RDxPXzg4hORVE0x3K5XL4fAJ7jbU9EX275ci2Xy4cA4EkAWCkUCh/6vr/OscbGxu7WWjPN5m3/8ezs7IXkHtq9urr6TEIWPomiaGlLt321Ws202+1tcRzrZrN5tY8aifHx8e0MYmZmho8zk/z8WCqVtkkpM8ViccX3/e4/BoSIF3K53Lv/OutwHOcVpiqI+PPa2trbS0tLV2xoTprNyMjIjlwud4yIbmeKFYbhW1Y0yHXdJ7TWVWauiDgVhuGZtGQ2etd1+X3pMLNiKaUfBMGnVoD4cM9ms68ZY4rJrbzM1UreemxyX2fD7wZcFWPMniTetU6nc7xHCPqNN32OcV33Aa31YwCw66YR3NjhNynl50EQfLOR2aaAarWamJycvAsRH9RaH7B9xrsBlraU8hwRfT0xMXGxVqv1pvE6l78AW8MvDhRLm1UAAAAASUVORK5CYII="},"177":function(e,a,t){e.exports={"search":"search-module__search___4Jead","mainSearch":"search-module__mainSearch___3PPi8","mainSearchList":"search-module__mainSearchList___3tFgX","searchBox":"search-module__searchBox___3l7b4","leftText":"search-module__leftText___2Pm5A","rightText":"search-module__rightText___3qRtm","img":"search-module__img___G6jmZ","text":"search-module__text___BZ6Ea","cancelText":"search-module__cancelText___3NLXR","searchTable":"search-module__searchTable___-Reyv","profilePicture":"search-module__profilePicture___U45la","main":"search-module__main___2ciWE","mainName":"search-module__mainName___1Aizm","mainThreeProcess":"search-module__mainThreeProcess___3x1wR","mainOneOfThreeProcess":"search-module__mainOneOfThreeProcess___5nhGd","right":"search-module__right___gGEs3","historyHeader":"search-module__historyHeader___TGIW_","historyText":"search-module__historyText___2Zp-q","historyClear":"search-module__historyClear___1WBub","historyClearText":"search-module__historyClearText___3g7u_","historyClearImg":"search-module__historyClearImg___2xCjR","searchHistory":"search-module__searchHistory___1_qUF","searchHistoryBox":"search-module__searchHistoryBox___2ydwd","searchHistoryBoxText":"search-module__searchHistoryBoxText___37Xhz","searchBoxActive":"search-module__searchBoxActive___3tATs"}},"191":function(e,a,t){"use strict";var c=t(2),r=t.n(c),s=t(10),n=t(8),o=t(9),i=t(20),l=t(17),h=t(18),u=t(11),m=t(3),b=t(22),d=t(140),p=t(177),j=t.n(p),x=t(139),_=function(e){Object(l.a)(SearchTable,e);var a=Object(h.a)(SearchTable);function SearchTable(){return Object(n.a)(this,SearchTable),a.apply(this,arguments)}return Object(o.a)(SearchTable,[{"key":"render","value":function render(){var e=this.props.item,a=e.platformName,c=(e.complaintCount,e.replyCount,e.completeCount,e.avatar);return Object(x.jsxs)(d.o,{"className":j.a.searchTable,"children":[Object(x.jsx)(d.e,{"className":j.a.profilePicture,"src":c||"https://x0.ifengimg.com/ucms/2021_16/65CE6FD1BEA15F6E24662C7ACDF42B1DB27E6863_size7_w270_h270.png"}),Object(x.jsx)(d.o,{"className":j.a.main,"children":Object(x.jsx)(d.o,{"className":j.a.mainName,"children":a})}),Object(x.jsx)(d.e,{"className":j.a.right,"src":t(192)})]})}}]),SearchTable}(b.Component),O=t(157),g=t(26),y=function(e){Object(l.a)(SearchHistory,e);var a=Object(h.a)(SearchHistory);function SearchHistory(){var e;Object(n.a)(this,SearchHistory);for(var t=arguments.length,c=new Array(t),r=0;r<t;r++)c[r]=arguments[r];return e=a.call.apply(a,[this].concat(c)),Object(u.a)(Object(i.a)(e),"state",{"searchHistory":e.props.searchHistory}),Object(u.a)(Object(i.a)(e),"clear",(function(){Object(m.removeStorage)({"key":"searchHistory"}),e.setState({"searchHistory":[]}),e.props.clear()})),Object(u.a)(Object(i.a)(e),"changeTab",(function(e,a){Object(g.l)("/pages/subPages/shopSearchMain/shopSearchMain?companyId=".concat(e,"&enterpriseName=").concat(a))})),e}return Object(o.a)(SearchHistory,[{"key":"componentDidMount","value":function componentDidMount(){}},{"key":"render","value":function render(){var e=this,a=this.state.searchHistory;return Object(x.jsxs)(d.o,{"children":[Object(x.jsxs)(d.o,{"className":j.a.historyHeader,"children":[Object(x.jsx)(d.o,{"className":j.a.historyText,"children":"搜索历史"}),Object(x.jsxs)(d.o,{"className":j.a.historyClear,"onClick":this.clear,"children":[Object(x.jsx)(d.e,{"src":t(175),"className":j.a.historyClearImg}),Object(x.jsx)(d.o,{"className":j.a.historyClearText,"children":"清空"})]})]}),Object(x.jsx)(d.o,{"className":j.a.searchHistory,"children":a.length>0&&a.map((function(a,t){return Object(x.jsx)(d.o,{"onClick":function onClick(){e.changeTab(a.id,a.name)},"className":j.a.searchHistoryBox,"children":Object(x.jsx)(d.o,{"className":j.a.searchHistoryBoxText,"children":a.name.length>8?a.name.substring(0,8)+"...":a.name})},t)}))})]})}}]),SearchHistory}(b.Component),S=t(158),f=t(159),v=t(160),A=function(e){Object(l.a)(Search,e);var a=Object(h.a)(Search);function Search(){var e;Object(n.a)(this,Search);for(var t=arguments.length,c=new Array(t),o=0;o<t;o++)c[o]=arguments[o];return e=a.call.apply(a,[this].concat(c)),Object(u.a)(Object(i.a)(e),"$instance",m.default.getCurrentInstance()),Object(u.a)(Object(i.a)(e),"state",{"isShowBottomBox":!1,"placeholder":"","list":[],"hasSearchHistory":!1,"searchHistory":[],"hasSearchTable":!0,"inPutValue":""}),Object(u.a)(Object(i.a)(e),"ShowBottomBox",Object(s.a)(r.a.mark((function _callee(){var a,t,c,s;return r.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(Object(f.a)({"datatype":"news_fts","behavior":"page","id":"fts_search","ref":"fts_home","url":window.location.href,"type":"other"}),null!==(a=e.$instance.page)&&void 0!==a&&null!==(t=a.path)&&void 0!==t&&t.includes("/pages/index/index")&&e.props.catchScroll("show"),console.log("显示搜索栏"),console.log(Object(m.getStorageSync)("searchHistory"),e.state.inPutValue.length,e.state.inPutValue),r.prev=4,e.state.inPutValue){r.next=13;break}return r.next=8,Object(m.getStorage)({"key":"searchHistory"});case 8:c=r.sent,s=c.data,e.setState({"searchHistory":s,"isShowBottomBox":!0,"hasSearchHistory":!0}),r.next=14;break;case 13:e.setState({"isShowBottomBox":!0});case 14:r.next=20;break;case 16:r.prev=16,r.t0=r.catch(4),e.setState({"isShowBottomBox":!0,"hasSearchHistory":!1}),console.log(r.t0);case 20:case"end":return r.stop()}}),_callee,null,[[4,16]])})))),Object(u.a)(Object(i.a)(e),"timer",void 0),Object(u.a)(Object(i.a)(e),"inPut",function(){var a=Object(s.a)(r.a.mark((function _callee3(a){var t;return r.a.wrap((function _callee3$(c){for(;;)switch(c.prev=c.next){case 0:e.setState({"placeholder":a.detail.value}),console.log(a.detail.value),a.detail.value.length>0?(e.setState({"hasSearchTable":!0,"hasSearchHistory":!1,"inPutValue":a.detail.value}),e.timer&&clearTimeout(e.timer),e.timer=setTimeout(Object(s.a)(r.a.mark((function _callee2(){var t,c,s;return r.a.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(O.u)(a.detail.value);case 2:t=r.sent,console.log(t),c=(t||{}).list,s=void 0===c?[]:c,e.setState({"list":s});case 6:case"end":return r.stop()}}),_callee2)}))),500)):(Object(m.getStorageSync)("searchHistory")&&(t=Object(m.getStorageSync)("searchHistory"),console.log(t),console.log("载入缓存"),(null==t?void 0:t.length)>0&&e.setState({"hasSearchHistory":!0})),e.setState({"hasSearchTable":!1}));case 3:case"end":return c.stop()}}),_callee3)})));return function(e){return a.apply(this,arguments)}}()),Object(u.a)(Object(i.a)(e),"cancelText",(function(){var a,t;null!==(a=e.$instance.page)&&void 0!==a&&null!==(t=a.path)&&void 0!==t&&t.includes("/pages/index/index")&&(console.log(Object(i.a)(e)),e.props.catchScroll("cancel")),console.log("点击取消"),e.setState({"placeholder":"","inPutValue":"","isShowBottomBox":!1,"list":[]})})),Object(u.a)(Object(i.a)(e),"changeTab",function(){var e=Object(s.a)(r.a.mark((function _callee4(e,a){var t,c,s,n;return r.a.wrap((function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(m.getStorage)({"key":"searchHistory"});case 3:return t=r.sent,c=t.data,console.log(c),c.unshift({"id":e,"name":a}),c.length=10,s={},c=c.reduce((function(e,a){return!s[a.id]&&(s[a.id]=e.push(a)),e}),[]),r.next=12,Object(m.setStorage)({"key":"searchHistory","data":c});case 12:r.next=20;break;case 14:return r.prev=14,r.t0=r.catch(0),(n=[]).unshift({"id":e,"name":a}),r.next=20,Object(m.setStorage)({"key":"searchHistory","data":n});case 20:Object(g.l)("/pages/subPages/companyDetail/companyDetail?companyId=".concat(e,"&companyDetail=").concat(a));case 21:case"end":return r.stop()}}),_callee4,null,[[0,14]])})));return function(a,t){return e.apply(this,arguments)}}()),Object(u.a)(Object(i.a)(e),"enterSubmit",function(){var a=Object(s.a)(r.a.mark((function _callee5(a){var t,c,s,n,o,i,l,h,u,b;return r.a.wrap((function _callee5$(r){for(;;)switch(r.prev=r.next){case 0:if(console.log(a),console.log(e.state.list),!((null===(t=e.state.list)||void 0===t?void 0:t.length)>0)){r.next=28;break}return c=e.state.list[0],c.platformName,c.enterpriseId,r.prev=4,r.next=7,Object(m.getStorage)({"key":"searchHistory"});case 7:return s=r.sent,n=s.data,console.log(n),Object(g.s)(e.state.inPutValue)&&n.unshift({"id":"","name":e.state.inPutValue}),n.length=10,o={},n=n.reduce((function(e,a){return!o[a.name]&&(o[a.name]=e.push(a)),e}),[]),r.next=16,Object(m.setStorage)({"key":"searchHistory","data":n});case 16:Object(g.l)("/pages/subPages/shopSearchMain/shopSearchMain?enterpriseName=".concat(e.state.inPutValue)),r.next=26;break;case 19:return r.prev=19,r.t0=r.catch(4),i=[],Object(g.s)(e.state.inPutValue)&&i.unshift({"id":"","name":e.state.inPutValue}),r.next=25,Object(m.setStorage)({"key":"searchHistory","data":i});case 25:Object(g.l)("/pages/subPages/shopSearchMain/shopSearchMain?enterpriseName=".concat(e.state.inPutValue));case 26:r.next=50;break;case 28:return r.prev=28,r.next=31,Object(m.getStorage)({"key":"searchHistory"});case 31:return l=r.sent,h=l.data,console.log(h),Object(g.s)(e.state.inPutValue)&&h.unshift({"id":"","name":e.state.inPutValue}),h.length=10,u={},h=h.reduce((function(e,a){return!u[a.name]&&(u[a.name]=e.push(a)),e}),[]),r.next=40,Object(m.setStorage)({"key":"searchHistory","data":h});case 40:Object(g.l)("/pages/subPages/shopSearchMain/shopSearchMain?enterpriseName=".concat(e.state.inPutValue)),r.next=50;break;case 43:return r.prev=43,r.t1=r.catch(28),b=[],Object(g.s)(e.state.inPutValue)&&b.unshift({"id":"","name":e.state.inPutValue}),r.next=49,Object(m.setStorage)({"key":"searchHistory","data":b});case 49:Object(g.l)("/pages/subPages/shopSearchMain/shopSearchMain?enterpriseName=".concat(e.state.inPutValue));case 50:console.log(a);case 51:case"end":return r.stop()}}),_callee5,null,[[4,19],[28,43]])})));return function(e){return a.apply(this,arguments)}}()),e}return Object(o.a)(Search,[{"key":"componentDidShow","value":function componentDidShow(){}},{"key":"componentDidMount","value":function componentDidMount(){var e=this;m.default.eventCenter.on("closeSearch",(function(){var a,t,c;console.log(null===(a=e.$instance.router)||void 0===a?void 0:a.path),null!==(t=e.$instance)&&void 0!==t&&null!==(c=t.router)&&void 0!==c&&c.path.includes("pages/subPages/shopSearchMain/shopSearchMain")&&e.cancelText()}));try{var a,t=(null===(a=this.$instance.router)||void 0===a?void 0:a.params).enterpriseName;console.log(t),t&&this.setState({"placeholder":t})}catch(e){console.log(e)}}},{"key":"clear","value":function clear(){this.setState({"searchHistory":[]})}},{"key":"render","value":function render(){var e=this,a=this.state,c=a.isShowBottomBox,r=a.placeholder,s=a.list,n=a.hasSearchHistory,o=a.searchHistory,i=a.hasSearchTable;return Object(x.jsxs)(d.o,{"className":v(j.a.search),"children":[Object(x.jsxs)(d.o,{"className":v(j.a.searchBox,c?j.a.searchBoxActive:""),"children":[Object(x.jsx)(d.e,{"src":t(207),"className":j.a.leftText}),Object(x.jsxs)(d.o,{"onClick":function onClick(){e.ShowBottomBox()},"className":j.a.rightText,"children":[Object(x.jsx)(d.e,{"className":j.a.img,"src":t(192)}),Object(x.jsx)(d.d,{"onSubmit":function onSubmit(a){e.enterSubmit(a)},"children":Object(x.jsx)(d.f,{"onConfirm":function onConfirm(e){},"value":r,"className":j.a.text,"placeholder":"请输入关键词搜索","onInput":function onInput(a){e.inPut(a)}})})]}),c&&Object(x.jsx)(d.l,{"onClick":function onClick(){e.cancelText()},"className":j.a.cancelText,"children":"取消"})]}),c&&Object(x.jsx)(d.a,{"children":Object(x.jsxs)(d.o,{"className":j.a.mainSearch,"children":[n&&Object(x.jsx)(y,{"clear":function clear(){e.clear()},"searchHistory":o}),Object(x.jsx)(d.o,{"className":j.a.mainSearchList,"children":s.length>0&&i&&s.map((function(a,t){return Object(x.jsx)(d.o,{"onClick":function onClick(){e.changeTab(a.enterpriseId,a.platformName)},"children":Object(x.jsx)(_,{"item":a})},t)}))})]})})]})}}]),Search}(b.Component);a.a=Object(S.a)(A)},"192":function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAmCAYAAAC29NkdAAADzUlEQVRYR+2Y6St8YRTHz9iy5QVFskQpWUJ4IUWWRPHCUv5GXlC2kLWEIhTZQoTse9mX+fU5dX/NbzJz7zMz9fPCt6bZ7n3u557nPOd8n+tyu91u+cFy/QIGOTtBR/Dx8VFOTk7k9vZW+Pz5+SkRERESFxcniYmJkpqaKrGxsQFjBgx4fHws6+vrcn5+7vfiLpdLIQsKCvTdVMaARGlubk5OT0//uVZ8fLxGLSoqSl5fXzWavDyVkZEhFRUVEhMT45jTCPDi4kImJyfl7e1NL8DU5efnS2ZmpgDorYeHBzk8PJSNjQ15eXnRv4Grr6/X6Xcix4DAjY2NaY4xbUVFRVJYWCjh4eG213l/f5fV1VVNCRQZGSmNjY2OIB0BMlUDAwMaOQavrq6WtLQ0WzDvAw4ODmR2dlZvkui3tLRIdHS0/xx2UgeJHDlH5Orq6gKCsyj29/dlZmZGv2ZlZenN+pNtBFmt5B0qLi7WV7BaXFyUzc1NHaapqUmSk5N9DmkLODo6qqWEKWlra3OUc3Y3QKr09vZqyrDAampqAgMk93p6evTk8vJyXbGh0srKiqytrUlYWJh0dnZqefpOfiO4s7Mj8/Pzel57e/u3pSRQ4OvraxkaGtLTiSCRNAZcWFiQra0tBQMwlMJEdXd36zRTskpKSswBp6am5OjoSFJSUrRuhVr9/f1yd3cnOTk5UllZaQ44Pj6uRoAWVVtbG2o+GRkZERpAdna2VFVVmQNOT09rq6IMUA5Crb6+Prm/vw88gla9wgR0dHSElI8c7OrqEtog+UceGi+Svb09bU2otbVVEhISQgZ5eXkpw8PDOh7dKT093Rzw6elJ6yB3W1paquYgVFpaWlLzgNmgDtLjjSPICdZCoanTSXwNZAKO9aKTfHx82PZj21aHScAsIFxxWVmZCcu3x2J4d3d39b/m5mZJSkryOaYtIGda9ZDPuA9cSKCi8NMAkL/6Z43vCPD5+VkGBweFd3KGokrtMpUnHN0JP+irBxsBcvDNzY3gbCgLKC8vT62X3QU4lpxbXl7+O638xs4P60+X8idHEbQGABJvyOpGwOXm5mqjZ4+BobXEyr+6utJCv729rQsCETmA+e4E0gjQigY5hH33FLB4RmtXx01Y0baOI+ewbeyhJyYmHEEaA1oXo4eyW8Nxf319+ZwlcpZeTgXwXK2YYCeQAQNaRNils7MzzVGixoYIKKaSaSfHfNVOJ5BBA5quZO/jvSFZ2Z4t9b8DAuwJ2dDQ8M8jkh8BCCRPIdgDeT+/+TGAvlLlFzDYRfQbwWAj+AduMVytpaESdgAAAABJRU5ErkJggg=="},"207":function(e,a,t){e.exports=t.p+"static/images/logo.b444cd73c78477c4d1bebb24fb0e5231.png"}}]);